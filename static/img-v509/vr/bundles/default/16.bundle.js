(window.webpackJsonpCMS=window.webpackJsonpCMS||[]).push([[16,28],{338:function(t,e,i){"use strict";i.r(e);var s=i(612),o=i(426);for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i(580);var a=i(0),r=Object(a.a)(o.default,s.a,s.b,!1,null,null,null);e.default=r.exports},357:function(t,e,i){"use strict";i.r(e);var s=i(698),o=i(575);for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i(681);var a=i(0),r=Object(a.a)(o.default,s.a,s.b,!1,null,null,null);e.default=r.exports},362:function(e,t){function i(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=i=function(t){return typeof t}:e.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}e.exports=i},363:function(t,e,i){"use strict";var s=i(364);t.exports={props:{dataParams:{type:String,required:!0}},computed:{componentParams:function(){return s.componentParams(this.dataParams).success}}}},364:function(t,e,i){"use strict";var s=i(1);i(18),i(39);var o=s(i(362));e.componentParams=function(t){var e={success:null,error:null};if("string"==typeof t){var i=t.replace(/'/g,'"');try{e.success=JSON.parse(i)}catch(t){e.error={message:"Проблема при парсингу json-масива",e:t},console.log(t)}}else e.error={message:'Неочікуваний тип вхідних даних: очікую "string", передано "'.concat((0,o.default)(t),'"')};return e},e.staticParams=function(t){var e={success:null,error:null};if("string"==typeof t){var i=t.replace(/'/g,'"');try{e.success=JSON.parse(i)}catch(t){e.error={message:"Проблема при парсингу json-масива",e:t},console.log(t)}}else e.error={message:'Неочікуваний тип вхідних даних: очікую "string", передано "'.concat((0,o.default)(t),'"')};return e}},426:function(t,e,i){"use strict";i.r(e);var s=i(427),o=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e.default=o.a},427:function(t,e,i){"use strict";t.exports={mixins:[i(577)]}},428:function(t,e,i){},457:function(t,e,i){var a=i(25),r=/"/g;t.exports=function(t,e,i,s){var o=String(a(t)),n="<"+e;return""!==i&&(n+=" "+i+'="'+String(s).replace(r,"&quot;")+'"'),n+">"+o+"</"+e+">"}},458:function(t,e,i){var s=i(4);t.exports=function(e){return s(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length})}},575:function(t,e,i){"use strict";i.r(e);var s=i(576),o=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e.default=o.a},576:function(t,e,i){"use strict";t.exports={mixins:[i(679)]}},577:function(a,t,r){"use strict";(function(t,e){var i=r(1);r(12),r(9),r(6),r(32),r(13),r(14),r(10),r(578),r(579),r(7);var s=i(r(11));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach(function(t){(0,s.default)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}a.exports={name:"ToastItem",props:{index:{type:Number,required:!0},type:{type:String,required:!0,default:"success"},text:{type:String,required:!0,default:""},data:{type:Object,required:!1,default:function(){return{}}},delay:{type:Number,required:!1,default:1e4}},computed:n({},t("appData",["platform","isLogged"]),{className:function(){if("socket"===this.type)return"toast-item ".concat(this.bigImage?"toast-item--big":"");var t=this.type?"notification-item--".concat(this.type):"";return"notification-item ".concat(t)},bigImage:function(){return this.data.big||!1},image:function(){return this.data.image||!1},title:function(){return this.data.title||!1},content:function(){return this.data.content||!1},canClose:function(){return this.data.canClose||!1},url:function(){return this.data.link||!1},newPage:function(){return this.data.newPage||!1},trackingSource:function(){return/Cash/.test(this.url)?"popup_cash":""}}),methods:n({},e("toast",["trackPopupViewed","trackPopupClosed"]),{close:function(){"socket"===this.type?(this.$store.commit("toast/removeToast",this.index),this.isLogged&&this.trackPopupClosed(this.data.id)):this.$store.commit("toast/removeNotification",this.index)}}),mounted:function(){this.$emit("toastShowed"),"socket"===this.type&&this.isLogged&&this.trackPopupViewed(this.data.id),this.canClose||setTimeout(this.close,this.delay)}}}).call(this,r(2).mapGetters,r(2).mapActions)},578:function(t,e,i){"use strict";var s=i(3),o=i(457);s({target:"String",proto:!0,forced:i(458)("big")},{big:function(){return o(this,"big","","")}})},579:function(t,e,i){"use strict";var s=i(3),o=i(457);s({target:"String",proto:!0,forced:i(458)("link")},{link:function(t){return o(this,"a","href",t)}})},580:function(t,e,i){"use strict";var s=i(428);i.n(s).a},581:function(t,e,i){},612:function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return o});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.className,t.platform]},["socket"===t.type?[t.url?i("a",{staticClass:"toast-item__link js-check-modal-link",class:{"js-tracking-payment-source":t.trackingSource},attrs:{href:t.url,target:t.newPage?"_blank":"_self","data-source":t.trackingSource}}):t._e(),t.image?i("div",{staticClass:"toast-item__image"},[i("img",{attrs:{src:t.image}})]):t._e(),i("div",{staticClass:"toast-item__content"},[t.title?i("div",{staticClass:"toast-item__title"},[t._v(t._s(t.title))]):t._e(),t.content?i("div",{staticClass:"toast-item__text",domProps:{innerHTML:t._s(t.content)}}):t._e()]),t.canClose?i("button",{staticClass:"toast-item__close",on:{click:t.close}},[i("svg",{staticClass:"svg-icon"},[i("use",{attrs:{"xlink:href":"#close"}})])]):t._e()]:[i("div",{staticClass:"notification-item__content"},[t.type?i("div",{staticClass:"notification-item__status"},["error"===t.type?[i("svg",{staticClass:"svg-icon"},[i("use",{attrs:{"xlink:href":"#status-error"}})])]:"warning"===t.type?[i("svg",{staticClass:"svg-icon"},[i("use",{attrs:{"xlink:href":"#status-error"}})])]:"success"===t.type?[i("svg",{staticClass:"svg-icon"},[i("use",{attrs:{"xlink:href":"#status-success"}})])]:"info"===t.type?[i("svg",{staticClass:"svg-icon"},[i("use",{attrs:{"xlink:href":"#status-pending"}})])]:t._e()],2):t._e(),i("div",{staticClass:"notification-item__text",domProps:{innerHTML:t._s(t.text)}})])]],2)},o=[]},679:function(a,t,r){"use strict";(function(t,e){var i=r(1);r(12),r(9),r(6),r(34),r(13),r(14),r(10),r(7);var s=i(r(11));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach(function(t){(0,s.default)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}a.exports={mixins:[r(363)],name:"Toast",components:{"toast-item":r(338).default},computed:n({},t("appData",["staticPath","platform"]),{},t("websocket",["socketPopupStack"]),{},t("toast",["toasts","notifications","visibility"])),methods:n({},e("toast",["push","pushNotification","toggleVisibility"]),{onToastShowed:function(){var t=this.$refs.toastSound,e=t?t.play():void 0;void 0!==e&&e.then(function(){t.currentTime=0,t.volume=.2,t.play()}).catch(function(t){console.log("Autoplay is not allowed")})},showOnGameLayout:function(t){return"game"!==this.componentParams.view||t}}),beforeCreate:function(){window.VuexModules.toast||(this.$store.registerModule("toast",r(680)),window.VuexModules.toast=!0)},mounted:function(){var i=this;if(this.socketPopupStack&&this.socketPopupStack.length&&(this.socketPopupStack.map(function(t){i.push(t)}),this.$store.commit("clearSocketPopupStack")),$(this.$el).on("pushNotification",function(t,e){i.pushNotification(e)}),$(this.$el).on("push",function(t,e){e.type="socket",i.push(e)}),$(this.$el).on("toggleVisibility",function(t,e){i.toggleVisibility(e.visibility)}),window.alertMessage){var e={type:"success"};try{e=JSON.parse(window.alertMessage)}catch(t){e.message=window.alertMessage}this.pushNotification({type:e.type,text:e.message})}}}}).call(this,r(2).mapGetters,r(2).mapActions)},680:function(t,e,s){"use strict";(function(i){s(18),s(39),t.exports={namespaced:!0,state:{toasts:[],notifications:[],visibility:!0},getters:{toasts:function(t){return t.toasts},notifications:function(t){return t.notifications},visibility:function(t){return t.visibility}},mutations:{addToast:function(t,e){t.toasts.push(e)},removeToast:function(t,e){i.set(t.toasts,e,null)},addNotification:function(t,e){t.notifications.push(e)},removeNotification:function(t,e){i.set(t.notifications,e,null)},toggleVisibility:function(t,e){t.visibility=e}},actions:{push:function(t,e){t.commit("addToast",e)},pushToast:function(t,e){t.commit("addToast",e)},pushNotification:function(t,e){var i=t.getters.notifications.length-1;t.commit("addNotification",e),t.commit("removeNotification",i)},trackPopupViewed:function(t,e){$.post(window.getUrl("actions","trackPopupViewed").replace("{id}",e))},trackPopupClosed:function(t,e){$.post(window.getUrl("actions","trackPopupClosed").replace("{id}",e))},toggleVisibility:function(t,e){t.commit("toggleVisibility",e)}}}}).call(this,s(44))},681:function(t,e,i){"use strict";var s=i(581);i.n(s).a},698:function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return o});var s=function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"toast",class:"toast--"+i.platform},[s("div",{directives:[{name:"show",rawName:"v-show",value:i.visibility,expression:"visibility"}],staticClass:"toasts-list"},[s("transition-group",{staticClass:"toasts-list__holder",attrs:{name:"toasts",tag:"div"}},[i._l(i.toasts,function(t,e){return[null!==t&&i.showOnGameLayout(t.data.showOnGamePage)?s("toast-item",{key:e,attrs:{index:e,type:t.type,text:t.text,data:t.data,delay:1e4},on:{toastShowed:i.onToastShowed}}):i._e()]})],2),"web"===i.platform?s("audio",{ref:"toastSound"},[s("source",{attrs:{src:i.staticPath+"/sounds/notify.ogg",type:"audio/ogg; codecs=vorbis"}}),s("source",{attrs:{src:i.staticPath+"/sounds/notify.mp3",type:"audio/mpeg"}})]):i._e()],1),s("div",{staticClass:"notifications-list"},[s("transition-group",{staticClass:"notification__items",attrs:{name:"notifications",tag:"div"}},[i._l(i.notifications,function(t,e){return[null!==t?s("toast-item",{key:e,attrs:{index:e,type:t.type,delay:t.delay,text:t.text,data:t.data}}):i._e()]})],2)],1)])},o=[]}}]);